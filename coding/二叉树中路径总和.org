* è·¯å¾„æ€»å’ŒI
** é¢˜ç›®
#+DOWNLOADED: file:/var/folders/73/53s3wczx1l32608prn_fdgrm0000gn/T/TemporaryItems/ï¼ˆscreencaptureuiæ­£åœ¨å­˜å‚¨æ–‡ç¨¿ï¼Œå·²å®Œæˆ21ï¼‰/æˆªå±2020-07-05 ä¸‹åˆ4.45.18.png @ 2020-07-05 16:45:21
[[file:Screen-Pictures/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8CI/2020-07-05_16-45-21_%E6%88%AA%E5%B1%8F2020-07-05%20%E4%B8%8B%E5%8D%884.45.18.png]]
** æ€è·¯
DFSå‡½æ•°åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„æ»¡è¶³æ¡ä»¶ï¼Œå…¨å±€å˜é‡ansç»´æŠ¤æ˜¯å¦æ‰¾åˆ°äº†ä¸€æ¡å­˜åœ¨çš„è·¯å¾„ï¼Œå¦‚æžœæ‰¾åˆ°äº†ï¼Œå°±ä¸ç”¨ç»§ç»­æ‰¾äº†ï¼Œå¯¹DFSç›´æŽ¥å‰ªæž
** code
 #+BEGIN_SRC python
class Solution:
    def hasPathSum(self, root: TreeNode, sum: int) -> bool:
        if not root:
            return False
        ans = False
        def dfs(root, path, s):
            nonlocal ans
	    # å‰ªæž
            if not ans:
                path_ = path + [root.val]
                s_ = s + root.val
                if not root.left and not root.right and s_ == sum:
                    ans = True
                if root.left:
                    dfs(root.left, path_, s_)
                if root.right:
                    dfs(root.right, path_, s_)
        dfs(root, [], 0)
        return ans
 #+END_SRC
* è·¯å¾„æ€»å’ŒII
** é¢˜ç›®
#+DOWNLOADED: file:/var/folders/73/53s3wczx1l32608prn_fdgrm0000gn/T/TemporaryItems/ï¼ˆscreencaptureuiæ­£åœ¨å­˜å‚¨æ–‡ç¨¿ï¼Œå·²å®Œæˆ22ï¼‰/æˆªå±2020-07-05 ä¸‹åˆ10.58.35.png @ 2020-07-05 22:58:37
[[file:Screen-Pictures/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8CII/2020-07-05_22-58-37_%E6%88%AA%E5%B1%8F2020-07-05%20%E4%B8%8B%E5%8D%8810.58.35.png]]
** æ€è·¯
DFSå‡½æ•°åˆ¤æ–­åˆ°å¶å­èŠ‚ç‚¹æ—¶ï¼Œè·¯å¾„ä¹‹å’Œæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œæ·»åŠ åˆ°å…¨å±€å˜é‡ansä¸­å³å¯ï¼Œéœ€è¦å…¨éƒ¨éåŽ†å®Œ
** code
#+BEGIN_SRC python
class Solution:
    def pathSum(self, root: TreeNode, sum: int) -> List[List[int]]:
        ans = []
        if not root:
            return []
        def dfs(root, s, path):
            nonlocal ans
            path_ = path + [root.val]
            s_ = s + root.val
            if not root.left and not root.right:
                if s_ == sum:
                    ans.append(path_)
            else:
                if root.left:
                    dfs(root.left, s_, path_)
                if root.right:
                    dfs(root.right, s_, path_)
        dfs(root, 0, [])
        return ans
#+END_SRC
* è·¯å¾„æ€»å’ŒIII
** é¢˜ç›®
#+DOWNLOADED: file:/var/folders/73/53s3wczx1l32608prn_fdgrm0000gn/T/TemporaryItems/ï¼ˆscreencaptureuiæ­£åœ¨å­˜å‚¨æ–‡ç¨¿ï¼Œå·²å®Œæˆ23ï¼‰/æˆªå±2020-07-05 ä¸‹åˆ11.16.58.png @ 2020-07-05 23:17:02
[[file:Screen-Pictures/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8CIII/2020-07-05_23-17-02_%E6%88%AA%E5%B1%8F2020-07-05%20%E4%B8%8B%E5%8D%8811.16.58.png]]
** æ€è·¯
+ BFS+DFSï¼šBFSéåŽ†ðŸŒ²ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨DFSçš„å‡½æ•°æ‰¾å‡ºä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘å¯èƒ½å­˜åœ¨çš„æ»¡è¶³æ¡ä»¶çš„è·¯å¾„æ€»å’Œ
+ å‰Né¡¹å’Œä¼˜åŒ–ï¼šDFSå‡½æ•°åˆ¤æ–­è¯¥èŠ‚ç‚¹çš„å…ƒç´ è·¯å¾„ä¸­æ˜¯å¦å­˜åœ¨å­è·¯å¾„æ»¡è¶³æ¡ä»¶ï¼Œå¯¹äºŽå‰Né¡¹å’Œè€Œè¨€ï¼Œå¦‚æžœS[k]-S[j]==sumï¼Œåˆ™è¯´æ˜Žå­˜åœ¨ä»Žj+1åˆ°kçš„è·¯å¾„æ»¡è¶³æ¡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­è·¯å¾„åŒ…å«è¯¥è·¯å¾„æœ¬èº«
** code
#+BEGIN_SRC python
# BFS+DFS-5348 ms
class Solution:
    def pathSum(self, root: TreeNode, sum: int) -> int:
        ans = 0
        if not root:
            return ans
        def dfs(root, s, path):
            nonlocal ans
            s_ = s + root.val
            path_ = path + [root]
            if s_ == sum:
                ans += 1
            if root.left:
                dfs(root.left, s_, path_)
            if root.right:
                dfs(root.right, s_, path_)
        queue = [root]
        while queue:
            queue_len = len(queue)
            for i in range(queue_len):
                node = queue.pop(0)
                dfs(node, 0, [])
                if node.left:
                    queue.append(node.left)
                if node.right:
                    queue.append(node.right)
        return ans

# å‰Né¡¹å’Œä¼˜åŒ–-196 ms
class Solution:
    def pathSum(self, root: TreeNode, sum: int) -> int:
        ans = 0
        if not root:
            return ans
        def dfs(root, s, pre_sum):
            nonlocal ans
            s_ = s + root.val
	    # ä»Žæ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„å’Œæ˜¯å¦æ»¡è¶³æ¡ä»¶
            if s_ == sum:
                ans += 1
            pre_sum_ = pre_sum + [s_]
	    # æ˜¯å¦å­˜åœ¨ä¸­é—´è·¯å¾„å’Œæ»¡è¶³æ¡ä»¶
            for p in pre_sum:
                if s_ - p == sum:
                    ans += 1
            if root.left:
                dfs(root.left, s_, pre_sum_)
            if root.right:
                dfs(root.right, s_, pre_sum_)
        dfs(root, 0, [])
        return ans
#+END_SRC

* æœ€é•¿åŒå€¼è·¯å¾„
** é¢˜ç›®
#+DOWNLOADED: file:/var/folders/73/53s3wczx1l32608prn_fdgrm0000gn/T/TemporaryItems/ï¼ˆscreencaptureuiæ­£åœ¨å­˜å‚¨æ–‡ç¨¿ï¼Œå·²å®Œæˆ24ï¼‰/æˆªå±2020-07-06 ä¸Šåˆ9.43.43.png @ 2020-07-06 09:43:46
[[file:Screen-Pictures/%E6%9C%80%E9%95%BF%E5%90%8C%E5%80%BC%E8%B7%AF%E5%BE%84/2020-07-06_09-43-46_%E6%88%AA%E5%B1%8F2020-07-06%20%E4%B8%8A%E5%8D%889.43.43.png]]
** æ€è·¯
[[https://leetcode-cn.com/problems/longest-univalue-path/solution/dfsyi-ceng-di-gui-by-bu-hui-er-cha-shu/][æˆ‘çš„è§£æ³•]]
** code
#+BEGIN_SRC python
class Solution:
    def longestUnivaluePath(self, root: TreeNode) -> int:
        if not root:
            return 0
        ans = 0
        def dfs(root, s):
            nonlocal ans
            left, right = 0, 0
            if root.left:
                left = max(dfs(root.left, root.val))
                # print(left)
            if root.right:
                right = max(dfs(root.right, root.val))
                # print(right)
            ans = max(ans, left+right)
            # print(ans)
            if root.val != s:
                return [0, 0]
            else:
                return [left+1, right+1]

        left, right = 0, 0
        if root.left:
            left = max(dfs(root.left, root.val))
        if root.right:
            right = max(dfs(root.right, root.val))
        ans = max(ans, left+right)
        return ans
#+END_SRC

* ä»Žå¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²
** é¢˜ç›®
#+DOWNLOADED: file:/var/folders/73/53s3wczx1l32608prn_fdgrm0000gn/T/TemporaryItems/ï¼ˆscreencaptureuiæ­£åœ¨å­˜å‚¨æ–‡ç¨¿ï¼Œå·²å®Œæˆ25ï¼‰/æˆªå±2020-07-06 ä¸Šåˆ10.12.47.png @ 2020-07-06 10:12:50
[[file:Screen-Pictures/%E4%BB%8E%E5%8F%B6%E7%BB%93%E7%82%B9%E5%BC%80%E5%A7%8B%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%97%E7%AC%A6%E4%B8%B2/2020-07-06_10-12-50_%E6%88%AA%E5%B1%8F2020-07-06%20%E4%B8%8A%E5%8D%8810.12.47.png]]
** æ€è·¯
ç±»ä¼¼äºŽä¸Šé¢çš„é¢˜ç›®ï¼ŒdfséåŽ†èŠ‚ç‚¹ï¼Œæ‰¾å‡ºå¯èƒ½çš„æœ€å°å­—å…¸åºè·¯å¾„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦æå‰å°†æ•°å­—é€šè¿‡ASIIç è½¬æ¢ä¸ºå­—æ¯chr(97+root.val)ï¼ŒåŽé¢æ–¹ä¾¿ç›´æŽ¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œå­—å…¸åºçš„æ¯”è¾ƒï¼›

çœŸæ­£éœ€è¦è€ƒè™‘çš„æ˜¯éœ€ä¸éœ€è¦å‰ªæžï¼ŒæŒ‰ç…§è¦æ±‚æœ€å°çš„å­—ç¬¦ä¸²å–å†³äºŽé¦–å­—æ¯çš„å­—å…¸åºï¼Œè€Œé¦–å­—æ¯åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¦‚æžœä¸å…¨éƒ¨éåŽ†å®Œï¼Œå¾ˆéš¾çŸ¥é“æŸä¸ªè·¯å¾„æ˜¯ä¸æ˜¯æœ€å°çš„ï¼Œå› æ­¤æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½éœ€è¦éåŽ†ã€‚
** code
#+BEGIN_SRC python
class Solution:
    def smallestFromLeaf(self, root: TreeNode) -> str:
        if not root:
            return None
        # print(chr(97))
        ans = ''
        def dfs(root, s):
            nonlocal ans
            s_ = chr(97+root.val) + s
            if not root.left and not root.right:
                if not ans:
                   ans = s_
                elif s_ < ans:
                    ans = s_
            if root.left:
                dfs(root.left, s_)
            if root.right:
                dfs(root.right, s_)
        dfs(root, '')
        return ans
#+END_SRC
* äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ-å›°éš¾
** é¢˜ç›®
#+DOWNLOADED: file:/var/folders/73/53s3wczx1l32608prn_fdgrm0000gn/T/TemporaryItems/ï¼ˆscreencaptureuiæ­£åœ¨å­˜å‚¨æ–‡ç¨¿ï¼Œå·²å®Œæˆ26ï¼‰/æˆªå±2020-07-06 ä¸Šåˆ10.30.24.png @ 2020-07-06 10:30:28
[[file:Screen-Pictures/%E4%BB%8E%E5%8F%B6%E7%BB%93%E7%82%B9%E5%BC%80%E5%A7%8B%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%97%E7%AC%A6%E4%B8%B2/2020-07-06_10-30-28_%E6%88%AA%E5%B1%8F2020-07-06%20%E4%B8%8A%E5%8D%8810.30.24.png]]
** æ€è·¯
å¯¹æ¯”äºŽä¹‹å‰çš„é¢˜ç›®ï¼Œæ ‘ä¸­èŠ‚ç‚¹å¯èƒ½ä¸ºè´Ÿå€¼ï¼Œå› æ­¤åœ¨æ±‚leftå’Œrightæ—¶ï¼Œåº”è¯¥å’Œ0åšæ¯”è¾ƒï¼Œå¦‚æžœå­æ ‘è¿”å›žçš„æœ€å¤§è·¯å¾„å’Œå°äºŽ0ï¼Œåˆ™é€‰æ‹©0ã€‚åŒæ—¶ç”¨å…¨å±€å˜é‡å­˜å‚¨æœ€å¤§å€¼
** code
#+BEGIN_SRC python
class Solution:
    def maxPathSum(self, root: TreeNode) -> int:
        ans = float('-inf')
        def dfs(root):
            nonlocal ans
            left, right = 0, 0
            if root.left:
                left = max(left, max(dfs(root.left)))
            if root.right:
                right = max(right, max(dfs(root.right)))
            ans = max(ans, root.val+left+right)
            return [left+root.val, right+root.val]
        dfs(root)
        return ans
#+END_SRC
