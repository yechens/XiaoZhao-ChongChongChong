'''
é¢˜ç›®æè¿°ï¼š
ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚

èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚

è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚

Â 

ç¤ºä¾‹ 1ï¼š



è¾“å…¥ï¼š[0,0,null,0,0]
è¾“å‡ºï¼š1
è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºï¼Œä¸€å°æ‘„åƒå¤´è¶³ä»¥ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚
ç¤ºä¾‹ 2ï¼š



è¾“å…¥ï¼š[0,0,null,0,null,0,null,null,0]
è¾“å‡ºï¼š2
è§£é‡Šï¼šéœ€è¦è‡³å°‘ä¸¤ä¸ªæ‘„åƒå¤´æ¥ç›‘è§†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†æ‘„åƒå¤´æ”¾ç½®çš„æœ‰æ•ˆä½ç½®ä¹‹ä¸€ã€‚

æç¤ºï¼š

ç»™å®šæ ‘çš„èŠ‚ç‚¹æ•°çš„èŒƒå›´æ˜¯Â [1, 1000]ã€‚
æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 0ã€‚

è§£é¢˜æ€è·¯:

å…ˆç¡®å®šä¸‰ä¸ªçŠ¶æ€ï¼š
        #çŠ¶æ€0 è¯¥èŠ‚ç‚¹æ²¡æœ‰è¢«è¦†ç›–ï¼Œä½†å·¦å³å­æ ‘è¢«è¦†ç›–äº†
        #çŠ¶æ€1 è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹è¢«è¦†ç›–äº†ï¼Œä½†è¯¥èŠ‚ç‚¹æ²¡æœ‰æ‘„åƒå¤´
        #çŠ¶æ€2 è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹è¢«è¦†ç›–äº†ï¼Œä½†è¯¥èŠ‚ç‚¹æœ‰æ‘„åƒå¤´
å†é€’å½’æ›´æ–°
æœ€åçš„ç»“æœä¸ºçŠ¶æ€1å’ŒçŠ¶æ€2çš„æœ€å°å€¼



'''


# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None



class Solution:
    def minCameraCover(self, root: TreeNode) -> int:
        #NB 
        #çŠ¶æ€0 è¯¥èŠ‚ç‚¹æ²¡æœ‰è¢«è¦†ç›–ï¼Œä½†å·¦å³å­æ ‘è¢«è¦†ç›–äº†
        #çŠ¶æ€1 è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹è¢«è¦†ç›–äº†ï¼Œä½†è¯¥èŠ‚ç‚¹æ²¡æœ‰æ‘„åƒå¤´
        #çŠ¶æ€2 è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹è¢«è¦†ç›–äº†ï¼Œä½†è¯¥èŠ‚ç‚¹æœ‰æ‘„åƒå¤´
        def getres(root):
            if not root:return(0,0,float('inf'))

            left=getres(root.left)
            right=getres(root.right)
            #çŠ¶æ€0 è¯¥èŠ‚ç‚¹æ²¡æœ‰è¢«è¦†ç›–ï¼Œä½†å·¦å³å­æ ‘è¢«è¦†ç›–äº†ï¼ŒğŸ‘€çœ‹å·¦å³èŠ‚ç‚¹
            dp0=left[1]+right[1]
            #çŠ¶æ€1 å­èŠ‚ç‚¹å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªä¸º2çŠ¶æ€
            dp1=min(left[2]+min(right[1:]),right[2]+min(left[1:]))
            #çŠ¶æ€2 æ˜“é”™ç‚¹ï¼šå·¦å³éœ€è¦åŠ èµ·æ¥
            dp2=1+min(left)+min(right)

            return dp0,dp1,dp2
        return min(getres(root)[1:])

